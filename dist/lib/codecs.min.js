(function(t){"use strict";function e(t,e){var n={raw:true,chunkSize:1024*1024};if(e&&typeof e.level==="number")n.level=e.level;this._backEnd=t?new pako.Deflate(n):new pako.Inflate(n);this._chunks=[];this._dataLength=0;this._backEnd.onData=this._onData.bind(this)}e.prototype._onData=function t(e){this._chunks.push(e);this._dataLength+=e.length};e.prototype._fetchData=function t(){var e=this._backEnd;if(e.err!==0)throw new Error(e.msg);var n=this._chunks;var a;if(n.length===1)a=n[0];else if(n.length>1){a=new Uint8Array(this._dataLength);for(var r=0,h=n.length,i=0;r<h;r++){var o=n[r];a.set(o,i);i+=o.length}}n.length=0;this._dataLength=0;return a};e.prototype.append=function t(e,n){this._backEnd.push(e,false);return this._fetchData()};e.prototype.flush=function t(){this._backEnd.push(new Uint8Array(0),true);return this._fetchData()};function n(t){e.call(this,true,t)}n.prototype=Object.create(e.prototype);function a(){e.call(this,false)}a.prototype=Object.create(e.prototype);var r=t.zip||t;r.Deflater=r._pako_Deflater=n;r.Inflater=r._pako_Inflater=a})(this);