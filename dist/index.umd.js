!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.rollupStarterProject=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports,u),t.exports}function t(e){return e.addAsync=function(e,t,r){return new Promise(function(n,i){zip.add(e,t,n,r)})},e.closeAsync=function(){return new Promise(function(e,t){zip.close(e)})},e}function r(e){return new Promise(function(t,r){zip.createWriter(e,t,r)})}function n(){return r(new zip.BlobWriter("application/epub+zip")).then(function(e){return t(e)})}function i(e){return new zip.TextReader(e)}function o(e){return new zip.BlobReader(e)}function a(e){return new zip.HttpReader(e)}var s={};s.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s.createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};var u="undefined"!=typeof window?window:"undefined"!=typeof global?global:this;!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function a(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function s(e){var t=new FileReader;return t.readAsText(e),o(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},h.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function l(e,t){t=t||{};var r=t.body;if(l.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new n(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function d(e){var t=new n,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),i=r.join(":").trim();t.append(n,i)}),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){n.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(n)},n.prototype["delete"]=function(e){delete this.map[t(e)]},n.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},n.prototype.getAll=function(e){return this.map[t(e)]||[]},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,n){this.map[t(e)]=[r(n)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)};var h={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},u.call(l.prototype),u.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];p.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=l,e.Response=p,e.fetch=function(e,t){return new Promise(function(r,n){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t);var a=new XMLHttpRequest;a.onload=function(){var e=1223===a.status?204:a.status;if(100>e||e>599)return void n(new TypeError("Network request failed"));var t={status:e,statusText:a.statusText,headers:d(a),url:i()},o="response"in a?a.response:a.responseText;r(new p(o,t))},a.onerror=function(){n(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&h.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);e(function(e,t,r){var n=n||function(e){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,r=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),s=e.webkitRequestFileSystem,u=e.requestFileSystem||s||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",f=0,d=500,p=function(t){var n=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};e.chrome?n():setTimeout(n,d)},h=function(e,t,r){t=[].concat(t);for(var n=t.length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,r||e)}catch(o){c(o)}}},y=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},v=function(t,c,d){d||(t=y(t));var v,m,w,b=this,g=t.type,k=!1,C=function(){h(b,"writestart progress write writeend".split(" "))},E=function(){if(m&&a&&"undefined"!=typeof FileReader){var n=new FileReader;return n.onloadend=function(){var e=n.result;m.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),b.readyState=b.DONE,C()},n.readAsDataURL(t),void(b.readyState=b.INIT)}if((k||!v)&&(v=r().createObjectURL(t)),m)m.location.href=v;else{var i=e.open(v,"_blank");void 0==i&&a&&(e.location.href=v)}b.readyState=b.DONE,C(),p(v)},A=function(e){return function(){return b.readyState!==b.DONE?e.apply(this,arguments):void 0}},U={create:!0,exclusive:!1};return b.readyState=b.INIT,c||(c="download"),i?(v=r().createObjectURL(t),void setTimeout(function(){n.href=v,n.download=c,o(n),C(),p(v),b.readyState=b.DONE})):(e.chrome&&g&&g!==l&&(w=t.slice||t.webkitSlice,t=w.call(t,0,t.size,l),k=!0),s&&"download"!==c&&(c+=".download"),(g===l||s)&&(m=e),u?(f+=t.size,void u(e.TEMPORARY,f,A(function(e){e.root.getDirectory("saved",U,A(function(e){var r=function(){e.getFile(c,U,A(function(e){e.createWriter(A(function(r){r.onwriteend=function(t){m.location.href=e.toURL(),b.readyState=b.DONE,h(b,"writeend",t),p(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&E()},"writestart progress write abort".split(" ").forEach(function(e){r["on"+e]=b["on"+e]}),r.write(t),b.abort=function(){r.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),E)}),E)};e.getFile(c,{create:!1},A(function(e){e.remove(),r()}),A(function(e){e.code===e.NOT_FOUND_ERR?r():E()}))}),E)}),E)):void E())},m=v.prototype,w=function(e,t,r){return new v(e,t,r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return r||(e=y(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(m.abort=function(){var e=this;e.readyState=e.DONE,h(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,w)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||u.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=n:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return n})});!function(e,t,r,n){function i(e,t){for(var r=0,n=e.length;n>r;r++)v(e[r],t)}function o(e){for(var t,r=0,n=e.length;n>r;r++)t=e[r],E(t,M[s(t)])}function a(e){return function(t){ne(t)&&(v(t,e),i(t.querySelectorAll(I),e))}}function s(e){var t=e.getAttribute("is"),r=e.nodeName.toUpperCase(),n=W.call(P,t?F+t.toUpperCase():N+r);return t&&n>-1&&!u(r,t)?-1:n}function u(e,t){return-1<I.indexOf(e+'[is="'+t+'"]')}function c(e){var t=e.currentTarget,r=e.attrChange,n=e.attrName,i=e.target;ye&&(!i||i===t)&&t.attributeChangedCallback&&"style"!==n&&e.prevValue!==e.newValue&&t.attributeChangedCallback(n,r===e[R]?null:e.prevValue,r===e[S]?null:e.newValue)}function l(e){var t=a(e);return function(e){m.push(t,e.target)}}function f(e){he&&(he=!1,e.currentTarget.removeEventListener(L,f)),i((e.target||t).querySelectorAll(I),e.detail===O?O:U),re&&h()}function d(e,t){var r=this;ae.call(r,e,t),w.call(r,{target:r})}function p(e,t){Q(e,t),k?k.observe(e,ce):(pe&&(e.setAttribute=d,e[A]=g(e),e.addEventListener(D,w)),e.addEventListener(_,c)),e.createdCallback&&ye&&(e.created=!0,e.createdCallback(),e.created=!1)}function h(){for(var e,t=0,r=ie.length;r>t;t++)e=ie[t],j.contains(e)||(r--,ie.splice(t--,1),v(e,O))}function y(e){throw new Error("A "+e+" type is already registered")}function v(e,t){var r,n=s(e);n>-1&&(C(e,M[n]),n=0,t!==U||e[U]?t===O&&!e[O]&&(e[U]=!1,e[O]=!0,n=1):(e[O]=!1,e[U]=!0,n=1,re&&W.call(ie,e)<0&&ie.push(e)),n&&(r=e[t+"Callback"])&&r.call(e))}if(!(n in t)){var m,w,b,g,k,C,E,A="__"+n+(1e5*Math.random()>>0),U="attached",O="detached",T="extends",R="ADDITION",z="MODIFICATION",S="REMOVAL",_="DOMAttrModified",L="DOMContentLoaded",D="DOMSubtreeModified",N="<",F="=",x=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,B=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],P=[],M=[],I="",j=t.documentElement,W=P.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},V=r.prototype,H=V.hasOwnProperty,q=V.isPrototypeOf,G=r.defineProperty,X=r.getOwnPropertyDescriptor,Z=r.getOwnPropertyNames,Y=r.getPrototypeOf,$=r.setPrototypeOf,J=!!r.__proto__,K=r.create||function ve(e){return e?(ve.prototype=e,new ve):this},Q=$||(J?function(e,t){return e.__proto__=t,e}:Z&&X?function(){function e(e,t){for(var r,n=Z(t),i=0,o=n.length;o>i;i++)r=n[i],H.call(e,r)||G(e,r,X(t,r))}return function(t,r){do e(t,r);while((r=Y(r))&&!q.call(r,t));return t}}():function(e,t){for(var r in t)e[r]=t[r];return e}),ee=e.MutationObserver||e.WebKitMutationObserver,te=(e.HTMLElement||e.Element||e.Node).prototype,re=!q.call(te,j),ne=re?function(e){return 1===e.nodeType}:function(e){return q.call(te,e)},ie=re&&[],oe=te.cloneNode,ae=te.setAttribute,se=te.removeAttribute,ue=t.createElement,ce=ee&&{attributes:!0,characterData:!0,attributeOldValue:!0},le=ee||function(e){pe=!1,j.removeEventListener(_,le)},fe=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},de=!1,pe=!0,he=!0,ye=!0;$||J?(C=function(e,t){q.call(t,e)||p(e,t)},E=p):(C=function(e,t){e[A]||(e[A]=r(!0),p(e,t))},E=C),re?(pe=!1,function(){var e=X(te,"addEventListener"),t=e.value,r=function(e){var t=new CustomEvent(_,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[S]=t.attrChange=2,se.call(this,e),this.dispatchEvent(t)},n=function o(e,t){var r=this.hasAttribute(e),o=r&&this.getAttribute(e),n=new CustomEvent(_,{bubbles:!0});ae.call(this,e,t),n.attrName=e,n.prevValue=r?o:null,n.newValue=t,r?n[z]=n.attrChange=1:n[R]=n.attrChange=0,this.dispatchEvent(n)},i=function a(e){var a,t=e.currentTarget,r=t[A],n=e.propertyName;r.hasOwnProperty(n)&&(r=r[n],a=new CustomEvent(_,{bubbles:!0}),a.attrName=r.name,a.prevValue=r.value||null,a.newValue=r.value=t[n]||null,null==a.prevValue?a[R]=a.attrChange=0:a[z]=a.attrChange=1,t.dispatchEvent(a))};e.value=function(e,o,a){e===_&&this.attributeChangedCallback&&this.setAttribute!==n&&(this[A]={className:{name:"class",value:this.className}},this.setAttribute=n,this.removeAttribute=r,t.call(this,"propertychange",i)),t.call(this,e,o,a)},G(te,"addEventListener",e)}()):ee||(j.addEventListener(_,le),j.setAttribute(A,1),j.removeAttribute(A),pe&&(w=function(e){var t,r,n,i=this;if(i===e.target){t=i[A],i[A]=r=g(i);for(n in r){if(!(n in t))return b(0,i,n,t[n],r[n],R);if(r[n]!==t[n])return b(1,i,n,t[n],r[n],z)}for(n in t)if(!(n in r))return b(2,i,n,t[n],r[n],S)}},b=function(e,t,r,n,i,o){var a={attrChange:e,currentTarget:t,attrName:r,prevValue:n,newValue:i};a[o]=e,c(a)},g=function(e){for(var t,r,n={},i=e.attributes,o=0,a=i.length;a>o;o++)t=i[o],r=t.name,"setAttribute"!==r&&(n[r]=t.value);return n})),t[n]=function(e,r){if(n=e.toUpperCase(),de||(de=!0,ee?(k=function(e,t){function r(e,t){for(var r=0,n=e.length;n>r;t(e[r++]));}return new ee(function(n){for(var i,o,a,s=0,u=n.length;u>s;s++)i=n[s],"childList"===i.type?(r(i.addedNodes,e),r(i.removedNodes,t)):(o=i.target,ye&&o.attributeChangedCallback&&"style"!==i.attributeName&&(a=o.getAttribute(i.attributeName),a!==i.oldValue&&o.attributeChangedCallback(i.attributeName,i.oldValue,a)))})}(a(U),a(O)),k.observe(t,{childList:!0,subtree:!0})):(m=[],fe(function w(){for(;m.length;)m.shift().call(null,m.shift());fe(w)}),t.addEventListener("DOMNodeInserted",l(U)),t.addEventListener("DOMNodeRemoved",l(O))),t.addEventListener(L,f),t.addEventListener("readystatechange",f),t.createElement=function(e,r){var n=ue.apply(t,arguments),i=""+e,o=W.call(P,(r?F:N)+(r||i).toUpperCase()),a=o>-1;return r&&(n.setAttribute("is",r=r.toLowerCase()),a&&(a=u(i.toUpperCase(),r))),ye=!t.createElement.innerHTMLHelper,a&&E(n,M[o]),n},te.cloneNode=function(e){var t=oe.call(this,!!e),r=s(t);return r>-1&&E(t,M[r]),e&&o(t.querySelectorAll(I)),t}),-2<W.call(P,F+n)+W.call(P,N+n)&&y(e),!x.test(n)||-1<W.call(B,n))throw new Error("The type "+e+" is invalid");var n,c,d=function(){return h?t.createElement(v,n):t.createElement(v)},p=r||V,h=H.call(p,T),v=h?r[T].toUpperCase():n;return h&&-1<W.call(P,N+v)&&y(v),c=P.push((h?F:N)+n)-1,I=I.concat(I.length?",":"",h?v+'[is="'+e.toLowerCase()+'"]':v),d.prototype=M[c]=H.call(p,"prototype")?p.prototype:K(te),i(t.querySelectorAll(I),U),d}}}(window,document,Object,"registerElement"),function(e){function t(){this.crc=-1}function r(){}function n(e,t,r){if(0>t||0>r||t+r>e.size)throw new RangeError("offset:"+t+", length:"+r+", size:"+e.size);return e.slice?e.slice(t,t+r):e.webkitSlice?e.webkitSlice(t,t+r):e.mozSlice?e.mozSlice(t,t+r):e.msSlice?e.msSlice(t,t+r):void 0}function i(e,t){var r,n;return r=new ArrayBuffer(e),n=new Uint8Array(r),t&&n.set(t,0),{buffer:r,array:n,view:new DataView(r)}}function o(){}function a(e){function t(t,r){var o=new Blob([e],{type:j});n=new u(o),n.init(function(){i.size=n.size,t()},r)}function r(e,t,r,i){n.readUint8Array(e,t,r,i)}var n,i=this;i.size=0,i.init=t,i.readUint8Array=r}function s(t){function r(e){for(var r=t.length;"="==t.charAt(r-1);)r--;o=t.indexOf(",")+1,a.size=Math.floor(.75*(r-o)),e()}function n(r,n,a){var s,u=i(n),c=4*Math.floor(r/3),l=4*Math.ceil((r+n)/3),f=e.atob(t.substring(c+o,l+o)),d=r-3*Math.floor(c/4);for(s=d;d+n>s;s++)u.array[s-d]=f.charCodeAt(s);a(u.array)}var o,a=this;a.size=0,a.init=r,a.readUint8Array=n}function u(e){function t(t){i.size=e.size,t()}function r(t,r,i,o){var a=new FileReader;a.onload=function(e){i(new Uint8Array(e.target.result))},a.onerror=o;try{a.readAsArrayBuffer(n(e,t,r))}catch(s){o(s)}}var i=this;i.size=0,i.init=t,i.readUint8Array=r}function c(){}function l(e){function t(e){i=new Blob([],{type:j}),e()}function r(e,t){i=new Blob([i,S?e:e.buffer],{type:j}),t()}function n(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=r,n.readAsText(i,e)}var i,o=this;o.init=t,o.writeUint8Array=r,o.getData=n}function f(t){function r(e){a+="data:"+(t||"")+";base64,",e()}function n(t,r){var n,i=s.length,o=s;for(s="",n=0;n<3*Math.floor((i+t.length)/3)-i;n++)o+=String.fromCharCode(t[n]);for(;n<t.length;n++)s+=String.fromCharCode(t[n]);o.length>2?a+=e.btoa(o):s=o,r()}function i(t){t(a+e.btoa(s))}var o=this,a="",s="";o.init=r,o.writeUint8Array=n,o.getData=i}function d(e){function t(t){i=new Blob([],{type:e}),t()}function r(t,r){i=new Blob([i,S?t:t.buffer],{type:e}),r()}function n(e){e(i)}var i,o=this;o.init=t,o.writeUint8Array=r,o.getData=n}function p(e,t,r,n,i,o,a,s,u,c){function l(){e.removeEventListener("message",f,!1),s(h,y)}function f(t){var r=t.data,i=r.data,s=r.error;if(s)return s.toString=function(){return"Error: "+this.message},void u(s);if(r.sn===m)switch("number"==typeof r.codecTime&&(e.codecTime+=r.codecTime),"number"==typeof r.crcTime&&(e.crcTime+=r.crcTime),r.type){case"append":i?(h+=i.length,n.writeUint8Array(i,function(){d()},c)):d();break;case"flush":y=r.crc,i?(h+=i.length,n.writeUint8Array(i,function(){l()},c)):l();break;case"progress":a&&a(p+r.loaded,o);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",r)}}function d(){p=v*I,o>=p?r.readUint8Array(i+p,Math.min(I,o-p),function(r){a&&a(p,o);var n=0===p?t:{sn:m};n.type="append",n.data=r;try{e.postMessage(n,[r.buffer])}catch(i){e.postMessage(n)}v++},u):e.postMessage({sn:m,type:"flush"})}var p,h,y,v=0,m=t.sn;h=0,e.addEventListener("message",f,!1),d()}function h(e,r,n,i,o,a,s,u,c,l){function f(){var t;if(d=p*I,o>d)r.readUint8Array(i+d,Math.min(I,o-d),function(t){var r;try{r=e.append(t,function(e){s&&s(d+e,o)})}catch(i){return void c(i)}r?(h+=r.length,n.writeUint8Array(r,function(){p++,setTimeout(f,1)},l),v&&m.append(r)):(p++,setTimeout(f,1)),y&&m.append(t),s&&s(d,o)},c);else{try{t=e.flush()}catch(a){return void c(a)}t?(v&&m.append(t),h+=t.length,n.writeUint8Array(t,function(){u(h,m.get())},l)):u(h,m.get())}}var d,p=0,h=0,y="input"===a,v="output"===a,m=new t;f()}function y(t,r,n,i,o,a,s,u,c,l,f){var d=s?"output":"none";if(e.zip.useWebWorkers){var y={sn:r,codecClass:"Inflater",crcType:d};p(t,y,n,i,o,a,c,u,l,f)}else h(new e.zip.Inflater,n,i,o,a,d,c,u,l,f)}function v(t,r,n,i,o,a,s,u,c){var l="input";if(e.zip.useWebWorkers){var f={sn:r,options:{level:o},codecClass:"Deflater",crcType:l};p(t,f,n,i,0,n.size,s,a,u,c)}else h(new e.zip.Deflater,n,i,0,n.size,l,s,a,u,c)}function m(t,n,i,o,a,s,u,c,l,f,d){var y="input";if(e.zip.useWebWorkers&&u){var v={sn:n,codecClass:"NOOP",crcType:y};p(t,v,i,o,a,s,l,c,f,d)}else h(new r,i,o,a,s,y,l,c,f,d)}function w(e){var t,r,n="",i=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)r=255&e.charCodeAt(t),n+=r>127?i[r-128]:String.fromCharCode(r);return n}function b(e){return decodeURIComponent(escape(e))}function g(e){var t,r="";for(t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}function k(e){var t=(4294901760&e)>>16,r=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&r)>>11,(2016&r)>>5,2*(31&r),0)}catch(n){}}function C(e,t,r,n,i){return e.version=t.view.getUint16(r,!0),e.bitFlag=t.view.getUint16(r+2,!0),e.compressionMethod=t.view.getUint16(r+4,!0),e.lastModDateRaw=t.view.getUint32(r+6,!0),e.lastModDate=k(e.lastModDateRaw),1===(1&e.bitFlag)?void i(D):((n||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(r+10,!0),e.compressedSize=t.view.getUint32(r+14,!0),e.uncompressedSize=t.view.getUint32(r+18,!0)),4294967295===e.compressedSize||4294967295===e.uncompressedSize?void i(N):(e.filenameLength=t.view.getUint16(r+22,!0),void(e.extraFieldLength=t.view.getUint16(r+24,!0))))}function E(t,r,n){function o(){}function a(e){function r(r,o){t.readUint8Array(t.size-r,r,function(t){for(var r=t.length-i;r>=0;r--)if(80===t[r]&&75===t[r+1]&&5===t[r+2]&&6===t[r+3])return void e(new DataView(t.buffer,r,i));o()},function(){n(F)})}var i=22;if(t.size<i)return void n(_);var o=65536,a=i+o;r(i,function(){r(Math.min(a,t.size),function(){n(_)})})}var s=0;o.prototype.getData=function(e,r,o,a){function u(e){var t=i(4);return t.view.setUint32(0,e),d.crc32==t.view.getUint32(0)}function c(t,i){a&&!u(i)?n(L):e.getData(function(e){r(e)})}function l(e){n(e||P)}function f(e){n(e||B)}var d=this;t.readUint8Array(d.offset,30,function(r){var u,p=i(r.length,r);return 1347093252!=p.view.getUint32(0)?void n(_):(C(d,p,4,!1,n),u=d.offset+30+d.filenameLength+d.extraFieldLength,void e.init(function(){0===d.compressionMethod?m(d._worker,s++,t,e,u,d.compressedSize,a,c,o,l,f):y(d._worker,s++,t,e,u,d.compressedSize,a,c,o,l,f)},f))},l)};var u={getEntries:function(e){var r=this._worker;a(function(a){var s,u;return s=a.getUint32(16,!0),u=a.getUint16(8,!0),0>s||s>=t.size?void n(_):void t.readUint8Array(s,t.size-s,function(t){var a,s,c,l,f=0,d=[],p=i(t.length,t);for(a=0;u>a;a++){if(s=new o,s._worker=r,1347092738!=p.view.getUint32(f))return void n(_);C(s,p,f+6,!0,n),s.commentLength=p.view.getUint16(f+32,!0),s.directory=16==(16&p.view.getUint8(f+38)),s.offset=p.view.getUint32(f+42,!0),c=g(p.array.subarray(f+46,f+46+s.filenameLength)),s.filename=2048===(2048&s.bitFlag)?b(c):w(c),s.directory||"/"!=s.filename.charAt(s.filename.length-1)||(s.directory=!0),l=g(p.array.subarray(f+46+s.filenameLength+s.extraFieldLength,f+46+s.filenameLength+s.extraFieldLength+s.commentLength)),s.comment=2048===(2048&s.bitFlag)?b(l):w(l),d.push(s),f+=46+s.filenameLength+s.extraFieldLength+s.commentLength}e(d)},function(){n(F)})})},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};e.zip.useWebWorkers?R("inflater",function(e){u._worker=e,r(u)},function(e){n(e)}):r(u)}function A(e){return unescape(encodeURIComponent(e))}function U(e){var t,r=[];for(t=0;t<e.length;t++)r.push(e.charCodeAt(t));return r}function O(t,r,n,o){function a(e){n(e||x)}function s(e){n(e||P)}var u={},c=[],l=0,f=0,d={add:function(e,r,d,p,h){function y(r){var n;C=h.lastModDate||new Date,g=i(26),u[e]={headerArray:g.array,directory:h.directory,filename:k,offset:l,comment:U(A(h.comment||""))},g.view.setUint32(0,335546376),h.version&&g.view.setUint8(0,h.version),o||0===h.level||h.directory||g.view.setUint16(4,2048),g.view.setUint16(6,(C.getHours()<<6|C.getMinutes())<<5|C.getSeconds()/2,!0),g.view.setUint16(8,(C.getFullYear()-1980<<4|C.getMonth()+1)<<5|C.getDate(),!0),g.view.setUint16(22,k.length,!0),n=i(30+k.length),n.view.setUint32(0,1347093252),n.array.set(g.array,4),n.array.set(k,30),l+=n.array.length,t.writeUint8Array(n.array,r,a)}function w(e,n){var o=i(16);l+=e||0,o.view.setUint32(0,1347094280),"undefined"!=typeof n&&(g.view.setUint32(10,n,!0),o.view.setUint32(4,n,!0)),r&&(o.view.setUint32(8,e,!0),g.view.setUint32(14,e,!0),o.view.setUint32(12,r.size,!0),g.view.setUint32(18,r.size,!0)),t.writeUint8Array(o.array,function(){l+=16,d()},a)}function b(){return h=h||{},e=e.trim(),h.directory&&"/"!=e.charAt(e.length-1)&&(e+="/"),u.hasOwnProperty(e)?void n(M):(k=U(A(e)),c.push(e),void y(function(){r?o||0===h.level?m(E,f++,r,t,0,r.size,!0,w,p,s,a):v(E,f++,r,t,h.level,w,p,s,a):w()},a))}var g,k,C,E=this._worker;r?r.init(b,s):b()},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null);var r,n,o,s=0,f=0;for(n=0;n<c.length;n++)o=u[c[n]],s+=46+o.filename.length+o.comment.length;for(r=i(s+22),n=0;n<c.length;n++)o=u[c[n]],r.view.setUint32(f,1347092738),r.view.setUint16(f+4,5120),r.array.set(o.headerArray,f+6),r.view.setUint16(f+32,o.comment.length,!0),o.directory&&r.view.setUint8(f+38,16),r.view.setUint32(f+42,o.offset,!0),r.array.set(o.filename,f+46),r.array.set(o.comment,f+46+o.filename.length),f+=46+o.filename.length+o.comment.length;r.view.setUint32(f,1347093766),r.view.setUint16(f+8,c.length,!0),r.view.setUint16(f+10,c.length,!0),r.view.setUint32(f+12,s,!0),r.view.setUint32(f+16,l,!0),t.writeUint8Array(r.array,function(){t.getData(e)},a)},_worker:null};e.zip.useWebWorkers?R("deflater",function(e){d._worker=e,r(d)},function(e){n(e)}):r(d)}function T(e){var t=document.createElement("a");return e.map(function(e){return t.href=e,t.href})}function R(t,r,n){function i(e){var t=e.data;return t.error?(s.terminate(),void n(t.error)):void("importScripts"===t.type&&(s.removeEventListener("message",i),s.removeEventListener("error",o),r(s)))}function o(e){s.terminate(),n(e)}if(null!==e.zip.workerScripts&&null!==e.zip.workerScriptsPath)return void n(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));var a;if(e.zip.workerScripts){if(a=e.zip.workerScripts[t],!Array.isArray(a))return void n(new Error("zip.workerScripts."+t+" is not an array!"));a=T(a)}else a=V[t].slice(0),a[0]=(e.zip.workerScriptsPath||"")+a[0];var s=new Worker(a[0]);s.codecTime=s.crcTime=0,s.postMessage({type:"importScripts",scripts:a.slice(1)}),s.addEventListener("message",i),s.addEventListener("error",o)}function z(e){console.error(e)}var S,_="File format is not recognized.",L="CRC failed.",D="File contains encrypted entry.",N="File is using Zip64 (4gb+ file size).",F="Error while reading zip file.",x="Error while writing zip file.",B="Error while writing file data.",P="Error while reading file data.",M="File already exists.",I=524288,j="text/plain";try{S=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(W){}t.prototype.append=function(e){for(var t=0|this.crc,r=this.table,n=0,i=0|e.length;i>n;n++)t=t>>>8^r[255&(t^e[n])];this.crc=t},t.prototype.get=function(){return~this.crc},t.prototype.table=function(){var e,t,r,n=[];for(e=0;256>e;e++){for(r=e,t=0;8>t;t++)1&r?r=r>>>1^3988292384:r>>>=1;n[e]=r}return n}(),r.prototype.append=function(e,t){return e},r.prototype.flush=function(){},a.prototype=new o,a.prototype.constructor=a,s.prototype=new o,s.prototype.constructor=s,u.prototype=new o,u.prototype.constructor=u,c.prototype.getData=function(e){e(this.data)},l.prototype=new c,l.prototype.constructor=l,f.prototype=new c,f.prototype.constructor=f,d.prototype=new c,d.prototype.constructor=d;var V={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};e.zip={Reader:o,Writer:c,BlobReader:u,Data64URIReader:s,TextReader:a,BlobWriter:d,Data64URIWriter:f,TextWriter:l,createReader:function(e,t,r){r=r||z,e.init(function(){E(e,t,r)},r)},createWriter:function(e,t,r,n){r=r||z,n=!!n,e.init(function(){O(e,t,r,n)},r)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}}(this),zip.workerScripts={deflater:["lib/z-worker.js","lib/pako_deflate.min.js","lib/pako/codecs.js"],inflater:["lib/z-worker.js","lib/pako_inflate.min.js","lib/pako/codecs.js"]};var c=Object.freeze({createWriter:n,text:i,blob:o,get:a}),l=function(e){function t(){return s.classCallCheck(this,t),s.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return s.inherits(t,e),s.createClass(t,[{key:"createdCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(){}}]),t}(HTMLElement),f=function(e){function t(){return s.classCallCheck(this,t),s.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return s.inherits(t,e),s.createClass(t,[{key:"createdCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(){}}]),t}(HTMLElement),d=function(e){function t(){return s.classCallCheck(this,t),s.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return s.inherits(t,e),s.createClass(t,[{key:"createdCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(){}}]),t}(HTMLElement),p=function(e){function t(){return s.classCallCheck(this,t),s.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return s.inherits(t,e),s.createClass(t,[{key:"createdCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(){}}]),t}(HTMLElement),h=function(e){function t(){return s.classCallCheck(this,t),s.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return s.inherits(t,e),s.createClass(t,[{key:"createdCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(){}}]),t}(HTMLElement),y={BmBook:document.registerElement("bm-book",l),BmBookBody:document.registerElement("bm-book-body",f),BmCover:document.registerElement("bm-cover",d),BmChapter:document.registerElement("bm-chapter",p),BmChapterBody:document.registerElement("bm-chapter-body",h)};return console.log(c),y});
//# sourceMappingURL=index.umd.js.map