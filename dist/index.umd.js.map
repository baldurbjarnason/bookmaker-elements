{"version":3,"file":"index.umd.js","sources":["../node_modules/whatwg-fetch/fetch.js","../vendor/FileSaver.js","../node_modules/document-register-element/build/document-register-element.js","../vendor/zip.js","../lib/zip.js","../lib/BmBook.js","../lib/BmBookBody.js","../lib/BmCover.js","../lib/BmChapter.js","../lib/BmChapterBody.js","../lib/index.js"],"sourcesContent":["(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.1.20151003\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent)\n\t\t, webkit_req_fs = view.webkitRequestFileSystem\n\t\t, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t, fs_min_size = 0\n\t\t// See https://code.google.com/p/chromium/issues/detail?id=375297#c7 and\n\t\t// https://github.com/eligrey/FileSaver.js/commit/485930a#commitcomment-8768047\n\t\t// for the reasoning behind the timeout and revocation flow\n\t\t, arbitrary_revoke_timeout = 500 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (view.chrome) {\n\t\t\t\trevoker();\n\t\t\t} else {\n\t\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t\t}\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([\"\\ufeff\", blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, blob_changed = false\n\t\t\t\t, object_url\n\t\t\t\t, target_view\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif (target_view && is_safari && typeof FileReader !== \"undefined\") {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar base64Data = reader.result;\n\t\t\t\t\t\t\ttarget_view.location.href = \"data:attachment/file\" + base64Data.slice(base64Data.search(/[,;]/));\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (blob_changed || !object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (target_view) {\n\t\t\t\t\t\ttarget_view.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar new_tab = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (new_tab == undefined && is_safari) {\n\t\t\t\t\t\t\t//Apple do not allow window.open, see http://bit.ly/1kZffRI\n\t\t\t\t\t\t\tview.location.href = object_url\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t\t, abortable = function(func) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif (filesaver.readyState !== filesaver.DONE) {\n\t\t\t\t\t\t\treturn func.apply(this, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t, create_if_not_found = {create: true, exclusive: false}\n\t\t\t\t, slice\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\tif (!name) {\n\t\t\t\tname = \"download\";\n\t\t\t}\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Object and web filesystem URLs have a problem saving in Google Chrome when\n\t\t\t// viewed in a tab, so I force save with application/octet-stream\n\t\t\t// http://code.google.com/p/chromium/issues/detail?id=91158\n\t\t\t// Update: Google errantly closed 91158, I submitted it again:\n\t\t\t// https://code.google.com/p/chromium/issues/detail?id=389642\n\t\t\tif (view.chrome && type && type !== force_saveable_type) {\n\t\t\t\tslice = blob.slice || blob.webkitSlice;\n\t\t\t\tblob = slice.call(blob, 0, blob.size, force_saveable_type);\n\t\t\t\tblob_changed = true;\n\t\t\t}\n\t\t\t// Since I can't be sure that the guessed media type will trigger a download\n\t\t\t// in WebKit, I append .download to the filename.\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=65440\n\t\t\tif (webkit_req_fs && name !== \"download\") {\n\t\t\t\tname += \".download\";\n\t\t\t}\n\t\t\tif (type === force_saveable_type || webkit_req_fs) {\n\t\t\t\ttarget_view = view;\n\t\t\t}\n\t\t\tif (!req_fs) {\n\t\t\t\tfs_error();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfs_min_size += blob.size;\n\t\t\treq_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n\t\t\t\tfs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n\t\t\t\t\tvar save = function() {\n\t\t\t\t\t\tdir.getFile(name, create_if_not_found, abortable(function(file) {\n\t\t\t\t\t\t\tfile.createWriter(abortable(function(writer) {\n\t\t\t\t\t\t\t\twriter.onwriteend = function(event) {\n\t\t\t\t\t\t\t\t\ttarget_view.location.href = file.toURL();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\tdispatch(filesaver, \"writeend\", event);\n\t\t\t\t\t\t\t\t\trevoke(file);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\twriter.onerror = function() {\n\t\t\t\t\t\t\t\t\tvar error = writer.error;\n\t\t\t\t\t\t\t\t\tif (error.code !== error.ABORT_ERR) {\n\t\t\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\"writestart progress write abort\".split(\" \").forEach(function(event) {\n\t\t\t\t\t\t\t\t\twriter[\"on\" + event] = filesaver[\"on\" + event];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twriter.write(blob);\n\t\t\t\t\t\t\t\tfilesaver.abort = function() {\n\t\t\t\t\t\t\t\t\twriter.abort();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.WRITING;\n\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t};\n\t\t\t\t\tdir.getFile(name, {create: false}, abortable(function(file) {\n\t\t\t\t\t\t// delete file if it already exists\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t\tsave();\n\t\t\t\t\t}), abortable(function(ex) {\n\t\t\t\t\t\tif (ex.code === ex.NOT_FOUND_ERR) {\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}), fs_error);\n\t\t\t}), fs_error);\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name, no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name || \"download\");\n\t\t};\n\t}\n\n\tFS_proto.abort = function() {\n\t\tvar filesaver = this;\n\t\tfilesaver.readyState = filesaver.DONE;\n\t\tdispatch(filesaver, \"abort\");\n\t};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd != null)) {\n  define([], function() {\n    return saveAs;\n  });\n}","/*! (C) WebReflection Mit Style License */\n(function(e,t,n,r){\"use strict\";function rt(e,t){for(var n=0,r=e.length;n<r;n++)vt(e[n],t)}function it(e){for(var t=0,n=e.length,r;t<n;t++)r=e[t],nt(r,b[ot(r)])}function st(e){return function(t){j(t)&&(vt(t,e),rt(t.querySelectorAll(w),e))}}function ot(e){var t=e.getAttribute(\"is\"),n=e.nodeName.toUpperCase(),r=S.call(y,t?v+t.toUpperCase():d+n);return t&&-1<r&&!ut(n,t)?-1:r}function ut(e,t){return-1<w.indexOf(e+'[is=\"'+t+'\"]')}function at(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target;Q&&(!i||i===t)&&t.attributeChangedCallback&&r!==\"style\"&&e.prevValue!==e.newValue&&t.attributeChangedCallback(r,n===e[a]?null:e.prevValue,n===e[l]?null:e.newValue)}function ft(e){var t=st(e);return function(e){X.push(t,e.target)}}function lt(e){K&&(K=!1,e.currentTarget.removeEventListener(h,lt)),rt((e.target||t).querySelectorAll(w),e.detail===o?o:s),B&&pt()}function ct(e,t){var n=this;q.call(n,e,t),G.call(n,{target:n})}function ht(e,t){D(e,t),et?et.observe(e,z):(J&&(e.setAttribute=ct,e[i]=Z(e),e.addEventListener(p,G)),e.addEventListener(c,at)),e.createdCallback&&Q&&(e.created=!0,e.createdCallback(),e.created=!1)}function pt(){for(var e,t=0,n=F.length;t<n;t++)e=F[t],E.contains(e)||(n--,F.splice(t--,1),vt(e,o))}function dt(e){throw new Error(\"A \"+e+\" type is already registered\")}function vt(e,t){var n,r=ot(e);-1<r&&(tt(e,b[r]),r=0,t===s&&!e[s]?(e[o]=!1,e[s]=!0,r=1,B&&S.call(F,e)<0&&F.push(e)):t===o&&!e[o]&&(e[s]=!1,e[o]=!0,r=1),r&&(n=e[t+\"Callback\"])&&n.call(e))}if(r in t)return;var i=\"__\"+r+(Math.random()*1e5>>0),s=\"attached\",o=\"detached\",u=\"extends\",a=\"ADDITION\",f=\"MODIFICATION\",l=\"REMOVAL\",c=\"DOMAttrModified\",h=\"DOMContentLoaded\",p=\"DOMSubtreeModified\",d=\"<\",v=\"=\",m=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,g=[\"ANNOTATION-XML\",\"COLOR-PROFILE\",\"FONT-FACE\",\"FONT-FACE-SRC\",\"FONT-FACE-URI\",\"FONT-FACE-FORMAT\",\"FONT-FACE-NAME\",\"MISSING-GLYPH\"],y=[],b=[],w=\"\",E=t.documentElement,S=y.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},x=n.prototype,T=x.hasOwnProperty,N=x.isPrototypeOf,C=n.defineProperty,k=n.getOwnPropertyDescriptor,L=n.getOwnPropertyNames,A=n.getPrototypeOf,O=n.setPrototypeOf,M=!!n.__proto__,_=n.create||function mt(e){return e?(mt.prototype=e,new mt):this},D=O||(M?function(e,t){return e.__proto__=t,e}:L&&k?function(){function e(e,t){for(var n,r=L(t),i=0,s=r.length;i<s;i++)n=r[i],T.call(e,n)||C(e,n,k(t,n))}return function(t,n){do e(t,n);while((n=A(n))&&!N.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),P=e.MutationObserver||e.WebKitMutationObserver,H=(e.HTMLElement||e.Element||e.Node).prototype,B=!N.call(H,E),j=B?function(e){return e.nodeType===1}:function(e){return N.call(H,e)},F=B&&[],I=H.cloneNode,q=H.setAttribute,R=H.removeAttribute,U=t.createElement,z=P&&{attributes:!0,characterData:!0,attributeOldValue:!0},W=P||function(e){J=!1,E.removeEventListener(c,W)},X,V=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},$=!1,J=!0,K=!0,Q=!0,G,Y,Z,et,tt,nt;O||M?(tt=function(e,t){N.call(t,e)||ht(e,t)},nt=ht):(tt=function(e,t){e[i]||(e[i]=n(!0),ht(e,t))},nt=tt),B?(J=!1,function(){var e=k(H,\"addEventListener\"),t=e.value,n=function(e){var t=new CustomEvent(c,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[l]=t.attrChange=2,R.call(this,e),this.dispatchEvent(t)},r=function(e,t){var n=this.hasAttribute(e),r=n&&this.getAttribute(e),i=new CustomEvent(c,{bubbles:!0});q.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i[f]=i.attrChange=1:i[a]=i.attrChange=0,this.dispatchEvent(i)},s=function(e){var t=e.currentTarget,n=t[i],r=e.propertyName,s;n.hasOwnProperty(r)&&(n=n[r],s=new CustomEvent(c,{bubbles:!0}),s.attrName=n.name,s.prevValue=n.value||null,s.newValue=n.value=t[r]||null,s.prevValue==null?s[a]=s.attrChange=0:s[f]=s.attrChange=1,t.dispatchEvent(s))};e.value=function(e,o,u){e===c&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[i]={className:{name:\"class\",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,\"propertychange\",s)),t.call(this,e,o,u)},C(H,\"addEventListener\",e)}()):P||(E.addEventListener(c,W),E.setAttribute(i,1),E.removeAttribute(i),J&&(G=function(e){var t=this,n,r,s;if(t===e.target){n=t[i],t[i]=r=Z(t);for(s in r){if(!(s in n))return Y(0,t,s,n[s],r[s],a);if(r[s]!==n[s])return Y(1,t,s,n[s],r[s],f)}for(s in n)if(!(s in r))return Y(2,t,s,n[s],r[s],l)}},Y=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,at(o)},Z=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;s<o;s++)t=i[s],n=t.name,n!==\"setAttribute\"&&(r[n]=t.value);return r})),t[r]=function(n,r){c=n.toUpperCase(),$||($=!0,P?(et=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new P(function(r){for(var i,s,o,u=0,a=r.length;u<a;u++)i=r[u],i.type===\"childList\"?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,Q&&s.attributeChangedCallback&&i.attributeName!==\"style\"&&(o=s.getAttribute(i.attributeName),o!==i.oldValue&&s.attributeChangedCallback(i.attributeName,i.oldValue,o)))})}(st(s),st(o)),et.observe(t,{childList:!0,subtree:!0})):(X=[],V(function E(){while(X.length)X.shift().call(null,X.shift());V(E)}),t.addEventListener(\"DOMNodeInserted\",ft(s)),t.addEventListener(\"DOMNodeRemoved\",ft(o))),t.addEventListener(h,lt),t.addEventListener(\"readystatechange\",lt),t.createElement=function(e,n){var r=U.apply(t,arguments),i=\"\"+e,s=S.call(y,(n?v:d)+(n||i).toUpperCase()),o=-1<s;return n&&(r.setAttribute(\"is\",n=n.toLowerCase()),o&&(o=ut(i.toUpperCase(),n))),Q=!t.createElement.innerHTMLHelper,o&&nt(r,b[s]),r},H.cloneNode=function(e){var t=I.call(this,!!e),n=ot(t);return-1<n&&nt(t,b[n]),e&&it(t.querySelectorAll(w)),t}),-2<S.call(y,v+c)+S.call(y,d+c)&&dt(n);if(!m.test(c)||-1<S.call(g,c))throw new Error(\"The type \"+n+\" is invalid\");var i=function(){return f?t.createElement(l,c):t.createElement(l)},a=r||x,f=T.call(a,u),l=f?r[u].toUpperCase():c,c,p;return f&&-1<S.call(y,d+l)&&dt(l),p=y.push((f?v:d)+c)-1,w=w.concat(w.length?\",\":\"\",f?l+'[is=\"'+n.toLowerCase()+'\"]':l),i.prototype=b[p]=T.call(a,\"prototype\")?a.prototype:_(H),rt(t.querySelectorAll(w),s),i}})(window,document,Object,\"registerElement\");","/*\n Copyright (c) 2013 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright\n notice, this list of conditions and the following disclaimer in\n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n(function(obj) {\n\t\"use strict\";\n\n\tvar ERR_BAD_FORMAT = \"File format is not recognized.\";\n\tvar ERR_CRC = \"CRC failed.\";\n\tvar ERR_ENCRYPTED = \"File contains encrypted entry.\";\n\tvar ERR_ZIP64 = \"File is using Zip64 (4gb+ file size).\";\n\tvar ERR_READ = \"Error while reading zip file.\";\n\tvar ERR_WRITE = \"Error while writing zip file.\";\n\tvar ERR_WRITE_DATA = \"Error while writing file data.\";\n\tvar ERR_READ_DATA = \"Error while reading file data.\";\n\tvar ERR_DUPLICATED_NAME = \"File already exists.\";\n\tvar CHUNK_SIZE = 512 * 1024;\n\t\n\tvar TEXT_PLAIN = \"text/plain\";\n\n\tvar appendABViewSupported;\n\ttry {\n\t\tappendABViewSupported = new Blob([ new DataView(new ArrayBuffer(0)) ]).size === 0;\n\t} catch (e) {\n\t}\n\n\tfunction Crc32() {\n\t\tthis.crc = -1;\n\t}\n\tCrc32.prototype.append = function append(data) {\n\t\tvar crc = this.crc | 0, table = this.table;\n\t\tfor (var offset = 0, len = data.length | 0; offset < len; offset++)\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ data[offset]) & 0xFF];\n\t\tthis.crc = crc;\n\t};\n\tCrc32.prototype.get = function get() {\n\t\treturn ~this.crc;\n\t};\n\tCrc32.prototype.table = (function() {\n\t\tvar i, j, t, table = []; // Uint32Array is actually slower than []\n\t\tfor (i = 0; i < 256; i++) {\n\t\t\tt = i;\n\t\t\tfor (j = 0; j < 8; j++)\n\t\t\t\tif (t & 1)\n\t\t\t\t\tt = (t >>> 1) ^ 0xEDB88320;\n\t\t\t\telse\n\t\t\t\t\tt = t >>> 1;\n\t\t\ttable[i] = t;\n\t\t}\n\t\treturn table;\n\t})();\n\t\n\t// \"no-op\" codec\n\tfunction NOOP() {}\n\tNOOP.prototype.append = function append(bytes, onprogress) {\n\t\treturn bytes;\n\t};\n\tNOOP.prototype.flush = function flush() {};\n\n\tfunction blobSlice(blob, index, length) {\n\t\tif (index < 0 || length < 0 || index + length > blob.size)\n\t\t\tthrow new RangeError('offset:' + index + ', length:' + length + ', size:' + blob.size);\n\t\tif (blob.slice)\n\t\t\treturn blob.slice(index, index + length);\n\t\telse if (blob.webkitSlice)\n\t\t\treturn blob.webkitSlice(index, index + length);\n\t\telse if (blob.mozSlice)\n\t\t\treturn blob.mozSlice(index, index + length);\n\t\telse if (blob.msSlice)\n\t\t\treturn blob.msSlice(index, index + length);\n\t}\n\n\tfunction getDataHelper(byteLength, bytes) {\n\t\tvar dataBuffer, dataArray;\n\t\tdataBuffer = new ArrayBuffer(byteLength);\n\t\tdataArray = new Uint8Array(dataBuffer);\n\t\tif (bytes)\n\t\t\tdataArray.set(bytes, 0);\n\t\treturn {\n\t\t\tbuffer : dataBuffer,\n\t\t\tarray : dataArray,\n\t\t\tview : new DataView(dataBuffer)\n\t\t};\n\t}\n\n\t// Readers\n\tfunction Reader() {\n\t}\n\n\tfunction TextReader(text) {\n\t\tvar that = this, blobReader;\n\n\t\tfunction init(callback, onerror) {\n\t\t\tvar blob = new Blob([ text ], {\n\t\t\t\ttype : TEXT_PLAIN\n\t\t\t});\n\t\t\tblobReader = new BlobReader(blob);\n\t\t\tblobReader.init(function() {\n\t\t\t\tthat.size = blobReader.size;\n\t\t\t\tcallback();\n\t\t\t}, onerror);\n\t\t}\n\n\t\tfunction readUint8Array(index, length, callback, onerror) {\n\t\t\tblobReader.readUint8Array(index, length, callback, onerror);\n\t\t}\n\n\t\tthat.size = 0;\n\t\tthat.init = init;\n\t\tthat.readUint8Array = readUint8Array;\n\t}\n\tTextReader.prototype = new Reader();\n\tTextReader.prototype.constructor = TextReader;\n\n\tfunction Data64URIReader(dataURI) {\n\t\tvar that = this, dataStart;\n\n\t\tfunction init(callback) {\n\t\t\tvar dataEnd = dataURI.length;\n\t\t\twhile (dataURI.charAt(dataEnd - 1) == \"=\")\n\t\t\t\tdataEnd--;\n\t\t\tdataStart = dataURI.indexOf(\",\") + 1;\n\t\t\tthat.size = Math.floor((dataEnd - dataStart) * 0.75);\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction readUint8Array(index, length, callback) {\n\t\t\tvar i, data = getDataHelper(length);\n\t\t\tvar start = Math.floor(index / 3) * 4;\n\t\t\tvar end = Math.ceil((index + length) / 3) * 4;\n\t\t\tvar bytes = obj.atob(dataURI.substring(start + dataStart, end + dataStart));\n\t\t\tvar delta = index - Math.floor(start / 4) * 3;\n\t\t\tfor (i = delta; i < delta + length; i++)\n\t\t\t\tdata.array[i - delta] = bytes.charCodeAt(i);\n\t\t\tcallback(data.array);\n\t\t}\n\n\t\tthat.size = 0;\n\t\tthat.init = init;\n\t\tthat.readUint8Array = readUint8Array;\n\t}\n\tData64URIReader.prototype = new Reader();\n\tData64URIReader.prototype.constructor = Data64URIReader;\n\n\tfunction BlobReader(blob) {\n\t\tvar that = this;\n\n\t\tfunction init(callback) {\n\t\t\tthat.size = blob.size;\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction readUint8Array(index, length, callback, onerror) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function(e) {\n\t\t\t\tcallback(new Uint8Array(e.target.result));\n\t\t\t};\n\t\t\treader.onerror = onerror;\n\t\t\ttry {\n\t\t\t\treader.readAsArrayBuffer(blobSlice(blob, index, length));\n\t\t\t} catch (e) {\n\t\t\t\tonerror(e);\n\t\t\t}\n\t\t}\n\n\t\tthat.size = 0;\n\t\tthat.init = init;\n\t\tthat.readUint8Array = readUint8Array;\n\t}\n\tBlobReader.prototype = new Reader();\n\tBlobReader.prototype.constructor = BlobReader;\n\n\t// Writers\n\n\tfunction Writer() {\n\t}\n\tWriter.prototype.getData = function(callback) {\n\t\tcallback(this.data);\n\t};\n\n\tfunction TextWriter(encoding) {\n\t\tvar that = this, blob;\n\n\t\tfunction init(callback) {\n\t\t\tblob = new Blob([], {\n\t\t\t\ttype : TEXT_PLAIN\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction writeUint8Array(array, callback) {\n\t\t\tblob = new Blob([ blob, appendABViewSupported ? array : array.buffer ], {\n\t\t\t\ttype : TEXT_PLAIN\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction getData(callback, onerror) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function(e) {\n\t\t\t\tcallback(e.target.result);\n\t\t\t};\n\t\t\treader.onerror = onerror;\n\t\t\treader.readAsText(blob, encoding);\n\t\t}\n\n\t\tthat.init = init;\n\t\tthat.writeUint8Array = writeUint8Array;\n\t\tthat.getData = getData;\n\t}\n\tTextWriter.prototype = new Writer();\n\tTextWriter.prototype.constructor = TextWriter;\n\n\tfunction Data64URIWriter(contentType) {\n\t\tvar that = this, data = \"\", pending = \"\";\n\n\t\tfunction init(callback) {\n\t\t\tdata += \"data:\" + (contentType || \"\") + \";base64,\";\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction writeUint8Array(array, callback) {\n\t\t\tvar i, delta = pending.length, dataString = pending;\n\t\t\tpending = \"\";\n\t\t\tfor (i = 0; i < (Math.floor((delta + array.length) / 3) * 3) - delta; i++)\n\t\t\t\tdataString += String.fromCharCode(array[i]);\n\t\t\tfor (; i < array.length; i++)\n\t\t\t\tpending += String.fromCharCode(array[i]);\n\t\t\tif (dataString.length > 2)\n\t\t\t\tdata += obj.btoa(dataString);\n\t\t\telse\n\t\t\t\tpending = dataString;\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction getData(callback) {\n\t\t\tcallback(data + obj.btoa(pending));\n\t\t}\n\n\t\tthat.init = init;\n\t\tthat.writeUint8Array = writeUint8Array;\n\t\tthat.getData = getData;\n\t}\n\tData64URIWriter.prototype = new Writer();\n\tData64URIWriter.prototype.constructor = Data64URIWriter;\n\n\tfunction BlobWriter(contentType) {\n\t\tvar blob, that = this;\n\n\t\tfunction init(callback) {\n\t\t\tblob = new Blob([], {\n\t\t\t\ttype : contentType\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction writeUint8Array(array, callback) {\n\t\t\tblob = new Blob([ blob, appendABViewSupported ? array : array.buffer ], {\n\t\t\t\ttype : contentType\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction getData(callback) {\n\t\t\tcallback(blob);\n\t\t}\n\n\t\tthat.init = init;\n\t\tthat.writeUint8Array = writeUint8Array;\n\t\tthat.getData = getData;\n\t}\n\tBlobWriter.prototype = new Writer();\n\tBlobWriter.prototype.constructor = BlobWriter;\n\n\t/** \n\t * inflate/deflate core functions\n\t * @param worker {Worker} web worker for the task.\n\t * @param initialMessage {Object} initial message to be sent to the worker. should contain\n\t *   sn(serial number for distinguishing multiple tasks sent to the worker), and codecClass.\n\t *   This function may add more properties before sending.\n\t */\n\tfunction launchWorkerProcess(worker, initialMessage, reader, writer, offset, size, onprogress, onend, onreaderror, onwriteerror) {\n\t\tvar chunkIndex = 0, index, outputSize, sn = initialMessage.sn, crc;\n\n\t\tfunction onflush() {\n\t\t\tworker.removeEventListener('message', onmessage, false);\n\t\t\tonend(outputSize, crc);\n\t\t}\n\n\t\tfunction onmessage(event) {\n\t\t\tvar message = event.data, data = message.data, err = message.error;\n\t\t\tif (err) {\n\t\t\t\terr.toString = function () { return 'Error: ' + this.message; };\n\t\t\t\tonreaderror(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (message.sn !== sn)\n\t\t\t\treturn;\n\t\t\tif (typeof message.codecTime === 'number')\n\t\t\t\tworker.codecTime += message.codecTime; // should be before onflush()\n\t\t\tif (typeof message.crcTime === 'number')\n\t\t\t\tworker.crcTime += message.crcTime;\n\n\t\t\tswitch (message.type) {\n\t\t\t\tcase 'append':\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\toutputSize += data.length;\n\t\t\t\t\t\twriter.writeUint8Array(data, function() {\n\t\t\t\t\t\t\tstep();\n\t\t\t\t\t\t}, onwriteerror);\n\t\t\t\t\t} else\n\t\t\t\t\t\tstep();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flush':\n\t\t\t\t\tcrc = message.crc;\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\toutputSize += data.length;\n\t\t\t\t\t\twriter.writeUint8Array(data, function() {\n\t\t\t\t\t\t\tonflush();\n\t\t\t\t\t\t}, onwriteerror);\n\t\t\t\t\t} else\n\t\t\t\t\t\tonflush();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'progress':\n\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\tonprogress(index + message.loaded, size);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importScripts': //no need to handle here\n\t\t\t\tcase 'newTask':\n\t\t\t\tcase 'echo':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn('zip.js:launchWorkerProcess: unknown message: ', message);\n\t\t\t}\n\t\t}\n\n\t\tfunction step() {\n\t\t\tindex = chunkIndex * CHUNK_SIZE;\n\t\t\t// use `<=` instead of `<`, because `size` may be 0.\n\t\t\tif (index <= size) {\n\t\t\t\treader.readUint8Array(offset + index, Math.min(CHUNK_SIZE, size - index), function(array) {\n\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\tonprogress(index, size);\n\t\t\t\t\tvar msg = index === 0 ? initialMessage : {sn : sn};\n\t\t\t\t\tmsg.type = 'append';\n\t\t\t\t\tmsg.data = array;\n\t\t\t\t\t\n\t\t\t\t\t// posting a message with transferables will fail on IE10\n\t\t\t\t\ttry {\n\t\t\t\t\t\tworker.postMessage(msg, [array.buffer]);\n\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\tworker.postMessage(msg); // retry without transferables\n\t\t\t\t\t}\n\t\t\t\t\tchunkIndex++;\n\t\t\t\t}, onreaderror);\n\t\t\t} else {\n\t\t\t\tworker.postMessage({\n\t\t\t\t\tsn: sn,\n\t\t\t\t\ttype: 'flush'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\toutputSize = 0;\n\t\tworker.addEventListener('message', onmessage, false);\n\t\tstep();\n\t}\n\n\tfunction launchProcess(process, reader, writer, offset, size, crcType, onprogress, onend, onreaderror, onwriteerror) {\n\t\tvar chunkIndex = 0, index, outputSize = 0,\n\t\t\tcrcInput = crcType === 'input',\n\t\t\tcrcOutput = crcType === 'output',\n\t\t\tcrc = new Crc32();\n\t\tfunction step() {\n\t\t\tvar outputData;\n\t\t\tindex = chunkIndex * CHUNK_SIZE;\n\t\t\tif (index < size)\n\t\t\t\treader.readUint8Array(offset + index, Math.min(CHUNK_SIZE, size - index), function(inputData) {\n\t\t\t\t\tvar outputData;\n\t\t\t\t\ttry {\n\t\t\t\t\t\toutputData = process.append(inputData, function(loaded) {\n\t\t\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\t\t\tonprogress(index + loaded, size);\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tonreaderror(e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (outputData) {\n\t\t\t\t\t\toutputSize += outputData.length;\n\t\t\t\t\t\twriter.writeUint8Array(outputData, function() {\n\t\t\t\t\t\t\tchunkIndex++;\n\t\t\t\t\t\t\tsetTimeout(step, 1);\n\t\t\t\t\t\t}, onwriteerror);\n\t\t\t\t\t\tif (crcOutput)\n\t\t\t\t\t\t\tcrc.append(outputData);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunkIndex++;\n\t\t\t\t\t\tsetTimeout(step, 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (crcInput)\n\t\t\t\t\t\tcrc.append(inputData);\n\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\tonprogress(index, size);\n\t\t\t\t}, onreaderror);\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\toutputData = process.flush();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tonreaderror(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (outputData) {\n\t\t\t\t\tif (crcOutput)\n\t\t\t\t\t\tcrc.append(outputData);\n\t\t\t\t\toutputSize += outputData.length;\n\t\t\t\t\twriter.writeUint8Array(outputData, function() {\n\t\t\t\t\t\tonend(outputSize, crc.get());\n\t\t\t\t\t}, onwriteerror);\n\t\t\t\t} else\n\t\t\t\t\tonend(outputSize, crc.get());\n\t\t\t}\n\t\t}\n\n\t\tstep();\n\t}\n\n\tfunction inflate(worker, sn, reader, writer, offset, size, computeCrc32, onend, onprogress, onreaderror, onwriteerror) {\n\t\tvar crcType = computeCrc32 ? 'output' : 'none';\n\t\tif (obj.zip.useWebWorkers) {\n\t\t\tvar initialMessage = {\n\t\t\t\tsn: sn,\n\t\t\t\tcodecClass: 'Inflater',\n\t\t\t\tcrcType: crcType,\n\t\t\t};\n\t\t\tlaunchWorkerProcess(worker, initialMessage, reader, writer, offset, size, onprogress, onend, onreaderror, onwriteerror);\n\t\t} else\n\t\t\tlaunchProcess(new obj.zip.Inflater(), reader, writer, offset, size, crcType, onprogress, onend, onreaderror, onwriteerror);\n\t}\n\n\tfunction deflate(worker, sn, reader, writer, level, onend, onprogress, onreaderror, onwriteerror) {\n\t\tvar crcType = 'input';\n\t\tif (obj.zip.useWebWorkers) {\n\t\t\tvar initialMessage = {\n\t\t\t\tsn: sn,\n\t\t\t\toptions: {level: level},\n\t\t\t\tcodecClass: 'Deflater',\n\t\t\t\tcrcType: crcType,\n\t\t\t};\n\t\t\tlaunchWorkerProcess(worker, initialMessage, reader, writer, 0, reader.size, onprogress, onend, onreaderror, onwriteerror);\n\t\t} else\n\t\t\tlaunchProcess(new obj.zip.Deflater(), reader, writer, 0, reader.size, crcType, onprogress, onend, onreaderror, onwriteerror);\n\t}\n\n\tfunction copy(worker, sn, reader, writer, offset, size, computeCrc32, onend, onprogress, onreaderror, onwriteerror) {\n\t\tvar crcType = 'input';\n\t\tif (obj.zip.useWebWorkers && computeCrc32) {\n\t\t\tvar initialMessage = {\n\t\t\t\tsn: sn,\n\t\t\t\tcodecClass: 'NOOP',\n\t\t\t\tcrcType: crcType,\n\t\t\t};\n\t\t\tlaunchWorkerProcess(worker, initialMessage, reader, writer, offset, size, onprogress, onend, onreaderror, onwriteerror);\n\t\t} else\n\t\t\tlaunchProcess(new NOOP(), reader, writer, offset, size, crcType, onprogress, onend, onreaderror, onwriteerror);\n\t}\n\n\t// ZipReader\n\n\tfunction decodeASCII(str) {\n\t\tvar i, out = \"\", charCode, extendedASCII = [ '\\u00C7', '\\u00FC', '\\u00E9', '\\u00E2', '\\u00E4', '\\u00E0', '\\u00E5', '\\u00E7', '\\u00EA', '\\u00EB',\n\t\t\t\t'\\u00E8', '\\u00EF', '\\u00EE', '\\u00EC', '\\u00C4', '\\u00C5', '\\u00C9', '\\u00E6', '\\u00C6', '\\u00F4', '\\u00F6', '\\u00F2', '\\u00FB', '\\u00F9',\n\t\t\t\t'\\u00FF', '\\u00D6', '\\u00DC', '\\u00F8', '\\u00A3', '\\u00D8', '\\u00D7', '\\u0192', '\\u00E1', '\\u00ED', '\\u00F3', '\\u00FA', '\\u00F1', '\\u00D1',\n\t\t\t\t'\\u00AA', '\\u00BA', '\\u00BF', '\\u00AE', '\\u00AC', '\\u00BD', '\\u00BC', '\\u00A1', '\\u00AB', '\\u00BB', '_', '_', '_', '\\u00A6', '\\u00A6',\n\t\t\t\t'\\u00C1', '\\u00C2', '\\u00C0', '\\u00A9', '\\u00A6', '\\u00A6', '+', '+', '\\u00A2', '\\u00A5', '+', '+', '-', '-', '+', '-', '+', '\\u00E3',\n\t\t\t\t'\\u00C3', '+', '+', '-', '-', '\\u00A6', '-', '+', '\\u00A4', '\\u00F0', '\\u00D0', '\\u00CA', '\\u00CB', '\\u00C8', 'i', '\\u00CD', '\\u00CE',\n\t\t\t\t'\\u00CF', '+', '+', '_', '_', '\\u00A6', '\\u00CC', '_', '\\u00D3', '\\u00DF', '\\u00D4', '\\u00D2', '\\u00F5', '\\u00D5', '\\u00B5', '\\u00FE',\n\t\t\t\t'\\u00DE', '\\u00DA', '\\u00DB', '\\u00D9', '\\u00FD', '\\u00DD', '\\u00AF', '\\u00B4', '\\u00AD', '\\u00B1', '_', '\\u00BE', '\\u00B6', '\\u00A7',\n\t\t\t\t'\\u00F7', '\\u00B8', '\\u00B0', '\\u00A8', '\\u00B7', '\\u00B9', '\\u00B3', '\\u00B2', '_', ' ' ];\n\t\tfor (i = 0; i < str.length; i++) {\n\t\t\tcharCode = str.charCodeAt(i) & 0xFF;\n\t\t\tif (charCode > 127)\n\t\t\t\tout += extendedASCII[charCode - 128];\n\t\t\telse\n\t\t\t\tout += String.fromCharCode(charCode);\n\t\t}\n\t\treturn out;\n\t}\n\n\tfunction decodeUTF8(string) {\n\t\treturn decodeURIComponent(escape(string));\n\t}\n\n\tfunction getString(bytes) {\n\t\tvar i, str = \"\";\n\t\tfor (i = 0; i < bytes.length; i++)\n\t\t\tstr += String.fromCharCode(bytes[i]);\n\t\treturn str;\n\t}\n\n\tfunction getDate(timeRaw) {\n\t\tvar date = (timeRaw & 0xffff0000) >> 16, time = timeRaw & 0x0000ffff;\n\t\ttry {\n\t\t\treturn new Date(1980 + ((date & 0xFE00) >> 9), ((date & 0x01E0) >> 5) - 1, date & 0x001F, (time & 0xF800) >> 11, (time & 0x07E0) >> 5,\n\t\t\t\t\t(time & 0x001F) * 2, 0);\n\t\t} catch (e) {\n\t\t}\n\t}\n\n\tfunction readCommonHeader(entry, data, index, centralDirectory, onerror) {\n\t\tentry.version = data.view.getUint16(index, true);\n\t\tentry.bitFlag = data.view.getUint16(index + 2, true);\n\t\tentry.compressionMethod = data.view.getUint16(index + 4, true);\n\t\tentry.lastModDateRaw = data.view.getUint32(index + 6, true);\n\t\tentry.lastModDate = getDate(entry.lastModDateRaw);\n\t\tif ((entry.bitFlag & 0x01) === 0x01) {\n\t\t\tonerror(ERR_ENCRYPTED);\n\t\t\treturn;\n\t\t}\n\t\tif (centralDirectory || (entry.bitFlag & 0x0008) != 0x0008) {\n\t\t\tentry.crc32 = data.view.getUint32(index + 10, true);\n\t\t\tentry.compressedSize = data.view.getUint32(index + 14, true);\n\t\t\tentry.uncompressedSize = data.view.getUint32(index + 18, true);\n\t\t}\n\t\tif (entry.compressedSize === 0xFFFFFFFF || entry.uncompressedSize === 0xFFFFFFFF) {\n\t\t\tonerror(ERR_ZIP64);\n\t\t\treturn;\n\t\t}\n\t\tentry.filenameLength = data.view.getUint16(index + 22, true);\n\t\tentry.extraFieldLength = data.view.getUint16(index + 24, true);\n\t}\n\n\tfunction createZipReader(reader, callback, onerror) {\n\t\tvar inflateSN = 0;\n\n\t\tfunction Entry() {\n\t\t}\n\n\t\tEntry.prototype.getData = function(writer, onend, onprogress, checkCrc32) {\n\t\t\tvar that = this;\n\n\t\t\tfunction testCrc32(crc32) {\n\t\t\t\tvar dataCrc32 = getDataHelper(4);\n\t\t\t\tdataCrc32.view.setUint32(0, crc32);\n\t\t\t\treturn that.crc32 == dataCrc32.view.getUint32(0);\n\t\t\t}\n\n\t\t\tfunction getWriterData(uncompressedSize, crc32) {\n\t\t\t\tif (checkCrc32 && !testCrc32(crc32))\n\t\t\t\t\tonerror(ERR_CRC);\n\t\t\t\telse\n\t\t\t\t\twriter.getData(function(data) {\n\t\t\t\t\t\tonend(data);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction onreaderror(err) {\n\t\t\t\tonerror(err || ERR_READ_DATA);\n\t\t\t}\n\n\t\t\tfunction onwriteerror(err) {\n\t\t\t\tonerror(err || ERR_WRITE_DATA);\n\t\t\t}\n\n\t\t\treader.readUint8Array(that.offset, 30, function(bytes) {\n\t\t\t\tvar data = getDataHelper(bytes.length, bytes), dataOffset;\n\t\t\t\tif (data.view.getUint32(0) != 0x504b0304) {\n\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treadCommonHeader(that, data, 4, false, onerror);\n\t\t\t\tdataOffset = that.offset + 30 + that.filenameLength + that.extraFieldLength;\n\t\t\t\twriter.init(function() {\n\t\t\t\t\tif (that.compressionMethod === 0)\n\t\t\t\t\t\tcopy(that._worker, inflateSN++, reader, writer, dataOffset, that.compressedSize, checkCrc32, getWriterData, onprogress, onreaderror, onwriteerror);\n\t\t\t\t\telse\n\t\t\t\t\t\tinflate(that._worker, inflateSN++, reader, writer, dataOffset, that.compressedSize, checkCrc32, getWriterData, onprogress, onreaderror, onwriteerror);\n\t\t\t\t}, onwriteerror);\n\t\t\t}, onreaderror);\n\t\t};\n\n\t\tfunction seekEOCDR(eocdrCallback) {\n\t\t\t// \"End of central directory record\" is the last part of a zip archive, and is at least 22 bytes long.\n\t\t\t// Zip file comment is the last part of EOCDR and has max length of 64KB,\n\t\t\t// so we only have to search the last 64K + 22 bytes of a archive for EOCDR signature (0x06054b50).\n\t\t\tvar EOCDR_MIN = 22;\n\t\t\tif (reader.size < EOCDR_MIN) {\n\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ZIP_COMMENT_MAX = 256 * 256, EOCDR_MAX = EOCDR_MIN + ZIP_COMMENT_MAX;\n\n\t\t\t// In most cases, the EOCDR is EOCDR_MIN bytes long\n\t\t\tdoSeek(EOCDR_MIN, function() {\n\t\t\t\t// If not found, try within EOCDR_MAX bytes\n\t\t\t\tdoSeek(Math.min(EOCDR_MAX, reader.size), function() {\n\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// seek last length bytes of file for EOCDR\n\t\t\tfunction doSeek(length, eocdrNotFoundCallback) {\n\t\t\t\treader.readUint8Array(reader.size - length, length, function(bytes) {\n\t\t\t\t\tfor (var i = bytes.length - EOCDR_MIN; i >= 0; i--) {\n\t\t\t\t\t\tif (bytes[i] === 0x50 && bytes[i + 1] === 0x4b && bytes[i + 2] === 0x05 && bytes[i + 3] === 0x06) {\n\t\t\t\t\t\t\teocdrCallback(new DataView(bytes.buffer, i, EOCDR_MIN));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\teocdrNotFoundCallback();\n\t\t\t\t}, function() {\n\t\t\t\t\tonerror(ERR_READ);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar zipReader = {\n\t\t\tgetEntries : function(callback) {\n\t\t\t\tvar worker = this._worker;\n\t\t\t\t// look for End of central directory record\n\t\t\t\tseekEOCDR(function(dataView) {\n\t\t\t\t\tvar datalength, fileslength;\n\t\t\t\t\tdatalength = dataView.getUint32(16, true);\n\t\t\t\t\tfileslength = dataView.getUint16(8, true);\n\t\t\t\t\tif (datalength < 0 || datalength >= reader.size) {\n\t\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treader.readUint8Array(datalength, reader.size - datalength, function(bytes) {\n\t\t\t\t\t\tvar i, index = 0, entries = [], entry, filename, comment, data = getDataHelper(bytes.length, bytes);\n\t\t\t\t\t\tfor (i = 0; i < fileslength; i++) {\n\t\t\t\t\t\t\tentry = new Entry();\n\t\t\t\t\t\t\tentry._worker = worker;\n\t\t\t\t\t\t\tif (data.view.getUint32(index) != 0x504b0102) {\n\t\t\t\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treadCommonHeader(entry, data, index + 6, true, onerror);\n\t\t\t\t\t\t\tentry.commentLength = data.view.getUint16(index + 32, true);\n\t\t\t\t\t\t\tentry.directory = ((data.view.getUint8(index + 38) & 0x10) == 0x10);\n\t\t\t\t\t\t\tentry.offset = data.view.getUint32(index + 42, true);\n\t\t\t\t\t\t\tfilename = getString(data.array.subarray(index + 46, index + 46 + entry.filenameLength));\n\t\t\t\t\t\t\tentry.filename = ((entry.bitFlag & 0x0800) === 0x0800) ? decodeUTF8(filename) : decodeASCII(filename);\n\t\t\t\t\t\t\tif (!entry.directory && entry.filename.charAt(entry.filename.length - 1) == \"/\")\n\t\t\t\t\t\t\t\tentry.directory = true;\n\t\t\t\t\t\t\tcomment = getString(data.array.subarray(index + 46 + entry.filenameLength + entry.extraFieldLength, index + 46\n\t\t\t\t\t\t\t\t\t+ entry.filenameLength + entry.extraFieldLength + entry.commentLength));\n\t\t\t\t\t\t\tentry.comment = ((entry.bitFlag & 0x0800) === 0x0800) ? decodeUTF8(comment) : decodeASCII(comment);\n\t\t\t\t\t\t\tentries.push(entry);\n\t\t\t\t\t\t\tindex += 46 + entry.filenameLength + entry.extraFieldLength + entry.commentLength;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback(entries);\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tonerror(ERR_READ);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tclose : function(callback) {\n\t\t\t\tif (this._worker) {\n\t\t\t\t\tthis._worker.terminate();\n\t\t\t\t\tthis._worker = null;\n\t\t\t\t}\n\t\t\t\tif (callback)\n\t\t\t\t\tcallback();\n\t\t\t},\n\t\t\t_worker: null\n\t\t};\n\n\t\tif (!obj.zip.useWebWorkers)\n\t\t\tcallback(zipReader);\n\t\telse {\n\t\t\tcreateWorker('inflater',\n\t\t\t\tfunction(worker) {\n\t\t\t\t\tzipReader._worker = worker;\n\t\t\t\t\tcallback(zipReader);\n\t\t\t\t},\n\t\t\t\tfunction(err) {\n\t\t\t\t\tonerror(err);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\t// ZipWriter\n\n\tfunction encodeUTF8(string) {\n\t\treturn unescape(encodeURIComponent(string));\n\t}\n\n\tfunction getBytes(str) {\n\t\tvar i, array = [];\n\t\tfor (i = 0; i < str.length; i++)\n\t\t\tarray.push(str.charCodeAt(i));\n\t\treturn array;\n\t}\n\n\tfunction createZipWriter(writer, callback, onerror, dontDeflate) {\n\t\tvar files = {}, filenames = [], datalength = 0;\n\t\tvar deflateSN = 0;\n\n\t\tfunction onwriteerror(err) {\n\t\t\tonerror(err || ERR_WRITE);\n\t\t}\n\n\t\tfunction onreaderror(err) {\n\t\t\tonerror(err || ERR_READ_DATA);\n\t\t}\n\n\t\tvar zipWriter = {\n\t\t\tadd : function(name, reader, onend, onprogress, options) {\n\t\t\t\tvar header, filename, date;\n\t\t\t\tvar worker = this._worker;\n\n\t\t\t\tfunction writeHeader(callback) {\n\t\t\t\t\tvar data;\n\t\t\t\t\tdate = options.lastModDate || new Date();\n\t\t\t\t\theader = getDataHelper(26);\n\t\t\t\t\tfiles[name] = {\n\t\t\t\t\t\theaderArray : header.array,\n\t\t\t\t\t\tdirectory : options.directory,\n\t\t\t\t\t\tfilename : filename,\n\t\t\t\t\t\toffset : datalength,\n\t\t\t\t\t\tcomment : getBytes(encodeUTF8(options.comment || \"\"))\n\t\t\t\t\t};\n\t\t\t\t\theader.view.setUint32(0, 0x14000808);\n\t\t\t\t\tif (options.version)\n\t\t\t\t\t\theader.view.setUint8(0, options.version);\n\t\t\t\t\tif (!dontDeflate && options.level !== 0 && !options.directory)\n\t\t\t\t\t\theader.view.setUint16(4, 0x0800);\n\t\t\t\t\theader.view.setUint16(6, (((date.getHours() << 6) | date.getMinutes()) << 5) | date.getSeconds() / 2, true);\n\t\t\t\t\theader.view.setUint16(8, ((((date.getFullYear() - 1980) << 4) | (date.getMonth() + 1)) << 5) | date.getDate(), true);\n\t\t\t\t\theader.view.setUint16(22, filename.length, true);\n\t\t\t\t\tdata = getDataHelper(30 + filename.length);\n\t\t\t\t\tdata.view.setUint32(0, 0x504b0304);\n\t\t\t\t\tdata.array.set(header.array, 4);\n\t\t\t\t\tdata.array.set(filename, 30);\n\t\t\t\t\tdatalength += data.array.length;\n\t\t\t\t\twriter.writeUint8Array(data.array, callback, onwriteerror);\n\t\t\t\t}\n\n\t\t\t\tfunction writeFooter(compressedLength, crc32) {\n\t\t\t\t\tvar footer = getDataHelper(16);\n\t\t\t\t\tdatalength += compressedLength || 0;\n\t\t\t\t\tfooter.view.setUint32(0, 0x504b0708);\n\t\t\t\t\tif (typeof crc32 != \"undefined\") {\n\t\t\t\t\t\theader.view.setUint32(10, crc32, true);\n\t\t\t\t\t\tfooter.view.setUint32(4, crc32, true);\n\t\t\t\t\t}\n\t\t\t\t\tif (reader) {\n\t\t\t\t\t\tfooter.view.setUint32(8, compressedLength, true);\n\t\t\t\t\t\theader.view.setUint32(14, compressedLength, true);\n\t\t\t\t\t\tfooter.view.setUint32(12, reader.size, true);\n\t\t\t\t\t\theader.view.setUint32(18, reader.size, true);\n\t\t\t\t\t}\n\t\t\t\t\twriter.writeUint8Array(footer.array, function() {\n\t\t\t\t\t\tdatalength += 16;\n\t\t\t\t\t\tonend();\n\t\t\t\t\t}, onwriteerror);\n\t\t\t\t}\n\n\t\t\t\tfunction writeFile() {\n\t\t\t\t\toptions = options || {};\n\t\t\t\t\tname = name.trim();\n\t\t\t\t\tif (options.directory && name.charAt(name.length - 1) != \"/\")\n\t\t\t\t\t\tname += \"/\";\n\t\t\t\t\tif (files.hasOwnProperty(name)) {\n\t\t\t\t\t\tonerror(ERR_DUPLICATED_NAME);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfilename = getBytes(encodeUTF8(name));\n\t\t\t\t\tfilenames.push(name);\n\t\t\t\t\twriteHeader(function() {\n\t\t\t\t\t\tif (reader)\n\t\t\t\t\t\t\tif (dontDeflate || options.level === 0)\n\t\t\t\t\t\t\t\tcopy(worker, deflateSN++, reader, writer, 0, reader.size, true, writeFooter, onprogress, onreaderror, onwriteerror);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tdeflate(worker, deflateSN++, reader, writer, options.level, writeFooter, onprogress, onreaderror, onwriteerror);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\twriteFooter();\n\t\t\t\t\t}, onwriteerror);\n\t\t\t\t}\n\n\t\t\t\tif (reader)\n\t\t\t\t\treader.init(writeFile, onreaderror);\n\t\t\t\telse\n\t\t\t\t\twriteFile();\n\t\t\t},\n\t\t\tclose : function(callback) {\n\t\t\t\tif (this._worker) {\n\t\t\t\t\tthis._worker.terminate();\n\t\t\t\t\tthis._worker = null;\n\t\t\t\t}\n\n\t\t\t\tvar data, length = 0, index = 0, indexFilename, file;\n\t\t\t\tfor (indexFilename = 0; indexFilename < filenames.length; indexFilename++) {\n\t\t\t\t\tfile = files[filenames[indexFilename]];\n\t\t\t\t\tlength += 46 + file.filename.length + file.comment.length;\n\t\t\t\t}\n\t\t\t\tdata = getDataHelper(length + 22);\n\t\t\t\tfor (indexFilename = 0; indexFilename < filenames.length; indexFilename++) {\n\t\t\t\t\tfile = files[filenames[indexFilename]];\n\t\t\t\t\tdata.view.setUint32(index, 0x504b0102);\n\t\t\t\t\tdata.view.setUint16(index + 4, 0x1400);\n\t\t\t\t\tdata.array.set(file.headerArray, index + 6);\n\t\t\t\t\tdata.view.setUint16(index + 32, file.comment.length, true);\n\t\t\t\t\tif (file.directory)\n\t\t\t\t\t\tdata.view.setUint8(index + 38, 0x10);\n\t\t\t\t\tdata.view.setUint32(index + 42, file.offset, true);\n\t\t\t\t\tdata.array.set(file.filename, index + 46);\n\t\t\t\t\tdata.array.set(file.comment, index + 46 + file.filename.length);\n\t\t\t\t\tindex += 46 + file.filename.length + file.comment.length;\n\t\t\t\t}\n\t\t\t\tdata.view.setUint32(index, 0x504b0506);\n\t\t\t\tdata.view.setUint16(index + 8, filenames.length, true);\n\t\t\t\tdata.view.setUint16(index + 10, filenames.length, true);\n\t\t\t\tdata.view.setUint32(index + 12, length, true);\n\t\t\t\tdata.view.setUint32(index + 16, datalength, true);\n\t\t\t\twriter.writeUint8Array(data.array, function() {\n\t\t\t\t\twriter.getData(callback);\n\t\t\t\t}, onwriteerror);\n\t\t\t},\n\t\t\t_worker: null\n\t\t};\n\n\t\tif (!obj.zip.useWebWorkers)\n\t\t\tcallback(zipWriter);\n\t\telse {\n\t\t\tcreateWorker('deflater',\n\t\t\t\tfunction(worker) {\n\t\t\t\t\tzipWriter._worker = worker;\n\t\t\t\t\tcallback(zipWriter);\n\t\t\t\t},\n\t\t\t\tfunction(err) {\n\t\t\t\t\tonerror(err);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction resolveURLs(urls) {\n\t\tvar a = document.createElement('a');\n\t\treturn urls.map(function(url) {\n\t\t\ta.href = url;\n\t\t\treturn a.href;\n\t\t});\n\t}\n\n\tvar DEFAULT_WORKER_SCRIPTS = {\n\t\tdeflater: ['z-worker.js', 'deflate.js'],\n\t\tinflater: ['z-worker.js', 'inflate.js']\n\t};\n\tfunction createWorker(type, callback, onerror) {\n\t\tif (obj.zip.workerScripts !== null && obj.zip.workerScriptsPath !== null) {\n\t\t\tonerror(new Error('Either zip.workerScripts or zip.workerScriptsPath may be set, not both.'));\n\t\t\treturn;\n\t\t}\n\t\tvar scripts;\n\t\tif (obj.zip.workerScripts) {\n\t\t\tscripts = obj.zip.workerScripts[type];\n\t\t\tif (!Array.isArray(scripts)) {\n\t\t\t\tonerror(new Error('zip.workerScripts.' + type + ' is not an array!'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tscripts = resolveURLs(scripts);\n\t\t} else {\n\t\t\tscripts = DEFAULT_WORKER_SCRIPTS[type].slice(0);\n\t\t\tscripts[0] = (obj.zip.workerScriptsPath || '') + scripts[0];\n\t\t}\n\t\tvar worker = new Worker(scripts[0]);\n\t\t// record total consumed time by inflater/deflater/crc32 in this worker\n\t\tworker.codecTime = worker.crcTime = 0;\n\t\tworker.postMessage({ type: 'importScripts', scripts: scripts.slice(1) });\n\t\tworker.addEventListener('message', onmessage);\n\t\tfunction onmessage(ev) {\n\t\t\tvar msg = ev.data;\n\t\t\tif (msg.error) {\n\t\t\t\tworker.terminate(); // should before onerror(), because onerror() may throw.\n\t\t\t\tonerror(msg.error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (msg.type === 'importScripts') {\n\t\t\t\tworker.removeEventListener('message', onmessage);\n\t\t\t\tworker.removeEventListener('error', errorHandler);\n\t\t\t\tcallback(worker);\n\t\t\t}\n\t\t}\n\t\t// catch entry script loading error and other unhandled errors\n\t\tworker.addEventListener('error', errorHandler);\n\t\tfunction errorHandler(err) {\n\t\t\tworker.terminate();\n\t\t\tonerror(err);\n\t\t}\n\t}\n\n\tfunction onerror_default(error) {\n\t\tconsole.error(error);\n\t}\n\tobj.zip = {\n\t\tReader : Reader,\n\t\tWriter : Writer,\n\t\tBlobReader : BlobReader,\n\t\tData64URIReader : Data64URIReader,\n\t\tTextReader : TextReader,\n\t\tBlobWriter : BlobWriter,\n\t\tData64URIWriter : Data64URIWriter,\n\t\tTextWriter : TextWriter,\n\t\tcreateReader : function(reader, callback, onerror) {\n\t\t\tonerror = onerror || onerror_default;\n\n\t\t\treader.init(function() {\n\t\t\t\tcreateZipReader(reader, callback, onerror);\n\t\t\t}, onerror);\n\t\t},\n\t\tcreateWriter : function(writer, callback, onerror, dontDeflate) {\n\t\t\tonerror = onerror || onerror_default;\n\t\t\tdontDeflate = !!dontDeflate;\n\n\t\t\twriter.init(function() {\n\t\t\t\tcreateZipWriter(writer, callback, onerror, dontDeflate);\n\t\t\t}, onerror);\n\t\t},\n\t\tuseWebWorkers : true,\n\t\t/**\n\t\t * Directory containing the default worker scripts (z-worker.js, deflate.js, and inflate.js), relative to current base url.\n\t\t * E.g.: zip.workerScripts = './';\n\t\t */\n\t\tworkerScriptsPath : null,\n\t\t/**\n\t\t * Advanced option to control which scripts are loaded in the Web worker. If this option is specified, then workerScriptsPath must not be set.\n\t\t * workerScripts.deflater/workerScripts.inflater should be arrays of urls to scripts for deflater/inflater, respectively.\n\t\t * Scripts in the array are executed in order, and the first one should be z-worker.js, which is used to start the worker.\n\t\t * All urls are relative to current base url.\n\t\t * E.g.:\n\t\t * zip.workerScripts = {\n\t\t *   deflater: ['z-worker.js', 'deflate.js'],\n\t\t *   inflater: ['z-worker.js', 'inflate.js']\n\t\t * };\n\t\t */\n\t\tworkerScripts : null,\n\t};\n\n})(this);\n","// Module to wrap zip.js methods in Promises\nimport '../vendor/zip.js';\n\nzip.workerScripts = {\n  deflater: ['lib/z-worker.js', 'lib/pako_deflate.min.js', 'lib/pako/codecs.js'],\n  inflater: ['lib/z-worker.js', 'lib/pako_inflate.min.js', 'lib/pako/codecs.js']\n};\n\nfunction wrapZip (zipFile) {\n  // Possible readers: zip.TextReader(text), zip.BlobReader(blob), zip.Data64URIReader(dataURI), zip.HttpReader(URL)\n  // options: directory or compression (0 for uncompressed)\n  zipFile.addAsync = function (name, reader, options) {\n    return new Promise(function (resolve, reject) {\n      zip.add(name, reader, resolve, options);\n    });\n  };\n  // Should return a promise for the blob for the zip file.\n  zipFile.closeAsync = function () {\n    return new Promise(function (resolve, reject) {\n      zip.close(resolve);\n    });\n  };\n  return zipFile;\n}\n\nfunction wrapWriter (writer) {\n  return new Promise(function (resolve, reject) {\n    zip.createWriter(writer, resolve, reject);\n  });\n}\n\nexport function createWriter () {\n  return wrapWriter(new zip.BlobWriter('application/epub+zip')).then(function (zip) {\n    return wrapZip(zip);\n  });\n}\n\nexport function text (text) {\n  return new zip.TextReader(text);\n}\n\nexport function blob (blob) {\n  return new zip.BlobReader(blob);\n}\n\nexport function get (URL) {\n  return new zip.HttpReader(URL);\n}\n","export default class BmBook extends HTMLElement {\n  createdCallback () {\n\n  }\n  attachedCallback () {\n\n  }\n  detachedCallback () {\n\n  }\n  attributeChangedCallback () {\n  }\n}\n","export default class BmChapterBody extends HTMLElement {\n  createdCallback () {\n\n  }\n  attachedCallback () {\n\n  }\n  detachedCallback () {\n\n  }\n  attributeChangedCallback () {\n  }\n}\n","export default class BmCover extends HTMLElement {\n  createdCallback () {\n\n  }\n  attachedCallback () {\n\n  }\n  detachedCallback () {\n\n  }\n  attributeChangedCallback () {\n  }\n}\n","export default class BmChapter extends HTMLElement {\n  createdCallback () {\n\n  }\n  attachedCallback () {\n\n  }\n  detachedCallback () {\n\n  }\n  attributeChangedCallback () {\n  }\n}\n","export default class BmChapterBody extends HTMLElement {\n  createdCallback () {\n\n  }\n  attachedCallback () {\n\n  }\n  detachedCallback () {\n\n  }\n  attributeChangedCallback () {\n  }\n}\n","import 'whatwg-fetch';\nimport '../vendor/FileSaver.js';\nimport 'document-register-element';\nimport * as zip from './zip.js';\nimport BmBook from './BmBook.js';\nimport BmBookBody from './BmBookBody.js';\nimport BmCover from './BmCover.js';\nimport BmChapter from './BmChapter.js';\nimport BmChapterBody from './BmChapterBody.js';\n\nvar bmElements = {\n  BmBook: document.registerElement('bm-book', BmBook),\n  BmBookBody: document.registerElement('bm-book-body', BmBookBody),\n  BmCover: document.registerElement('bm-cover', BmCover),\n  BmChapter: document.registerElement('bm-chapter', BmChapter),\n  BmChapterBody: document.registerElement('bm-chapter-body', BmChapterBody)\n};\n\nconsole.log(zip);\n\nexport default bmElements;\n"],"names":["wrapZip","zipFile","addAsync","name","reader","options","Promise","resolve","reject","add","closeAsync","close","wrapWriter","writer","createWriter","zip","BlobWriter","then","text","TextReader","blob","BlobReader","get","URL","HttpReader","self","normalizeName","String","test","TypeError","toLowerCase","normalizeValue","value","Headers","headers","map","forEach","append","this","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","onload","result","onerror","error","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","prototype","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","Error","set","type","rejected","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","indexOf","Request","input","url","credentials","mode","referrer","form","trim","split","bytes","shift","replace","join","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","key","Response","bodyInit","status","ok","statusText","fetch","list","push","values","getAll","has","hasOwnProperty","callback","thisArg","call","e","clone","response","redirectStatuses","redirect","RangeError","location","init","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","open","withCredentials","responseType","setRequestHeader","send","polyfill","saveAs","view","navigator","userAgent","doc","document","get_URL","webkitURL","save_link","createElementNS","can_use_save_link","click","node","event","MouseEvent","dispatchEvent","is_safari","webkit_req_fs","webkitRequestFileSystem","req_fs","requestFileSystem","mozRequestFileSystem","throw_outside","ex","setImmediate","setTimeout","force_saveable_type","fs_min_size","arbitrary_revoke_timeout","revoke","file","revoker","revokeObjectURL","remove","chrome","dispatch","filesaver","event_types","concat","i","length","listener","auto_bom","FileSaver","no_auto_bom","object_url","target_view","slice","blob_changed","dispatch_all","fs_error","onloadend","base64Data","href","search","readyState","DONE","readAsDataURL","INIT","createObjectURL","new_tab","undefined","abortable","func","apply","arguments","create_if_not_found","create","exclusive","download","webkitSlice","size","TEMPORARY","fs","root","getDirectory","dir","save","getFile","onwriteend","toURL","code","ABORT_ERR","write","abort","WRITING","NOT_FOUND_ERR","FS_proto","msSaveOrOpenBlob","onwritestart","onprogress","onwrite","onabort","window","content","module","exports","define","amd","t","n","r","rt","it","nt","b","ot","st","vt","querySelectorAll","w","getAttribute","nodeName","S","y","v","d","ut","at","currentTarget","attrChange","attrName","target","Q","attributeChangedCallback","prevValue","newValue","a","l","ft","lt","K","removeEventListener","h","detail","o","s","B","pt","ct","q","G","ht","et","observe","z","J","setAttribute","Z","addEventListener","p","c","createdCallback","created","F","E","contains","splice","dt","tt","X","Y","Math","random","u","f","m","g","documentElement","x","T","N","C","defineProperty","k","getOwnPropertyDescriptor","L","A","getPrototypeOf","O","setPrototypeOf","M","__proto__","_","mt","D","P","MutationObserver","WebKitMutationObserver","H","HTMLElement","Element","Node","j","nodeType","I","cloneNode","R","removeAttribute","U","createElement","attributes","characterData","attributeOldValue","W","V","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","$","CustomEvent","bubbles","hasAttribute","propertyName","className","addedNodes","removedNodes","attributeName","oldValue","childList","subtree","innerHTMLHelper","Object","obj","Crc32","crc","NOOP","blobSlice","index","mozSlice","msSlice","getDataHelper","byteLength","dataBuffer","dataArray","Uint8Array","DataView","Reader","TEXT_PLAIN","blobReader","readUint8Array","that","Data64URIReader","dataURI","dataEnd","charAt","dataStart","floor","data","start","end","ceil","atob","substring","delta","array","charCodeAt","Writer","TextWriter","encoding","writeUint8Array","appendABViewSupported","buffer","getData","Data64URIWriter","contentType","pending","dataString","fromCharCode","btoa","launchWorkerProcess","worker","initialMessage","offset","onend","onreaderror","onwriteerror","onflush","onmessage","outputSize","message","err","toString","sn","codecTime","crcTime","step","loaded","warn","chunkIndex","CHUNK_SIZE","min","msg","postMessage","launchProcess","process","crcType","outputData","inputData","crcOutput","crcInput","flush","inflate","computeCrc32","useWebWorkers","Inflater","deflate","level","Deflater","copy","decodeASCII","str","charCode","out","extendedASCII","decodeUTF8","string","escape","getString","getDate","timeRaw","date","time","Date","readCommonHeader","entry","centralDirectory","version","getUint16","bitFlag","compressionMethod","lastModDateRaw","getUint32","lastModDate","ERR_ENCRYPTED","crc32","compressedSize","uncompressedSize","ERR_ZIP64","filenameLength","extraFieldLength","createZipReader","Entry","seekEOCDR","eocdrCallback","doSeek","eocdrNotFoundCallback","EOCDR_MIN","ERR_READ","ERR_BAD_FORMAT","ZIP_COMMENT_MAX","EOCDR_MAX","inflateSN","checkCrc32","testCrc32","dataCrc32","setUint32","getWriterData","ERR_CRC","ERR_READ_DATA","ERR_WRITE_DATA","dataOffset","_worker","zipReader","dataView","datalength","fileslength","filename","comment","entries","commentLength","directory","getUint8","subarray","terminate","encodeUTF8","unescape","encodeURIComponent","getBytes","createZipWriter","dontDeflate","ERR_WRITE","files","filenames","deflateSN","zipWriter","writeHeader","setUint8","setUint16","getHours","getMinutes","getSeconds","getFullYear","getMonth","writeFooter","compressedLength","footer","writeFile","ERR_DUPLICATED_NAME","indexFilename","headerArray","resolveURLs","urls","createWorker","ev","errorHandler","workerScripts","workerScriptsPath","scripts","Array","isArray","DEFAULT_WORKER_SCRIPTS","Worker","onerror_default","table","len","constructor"],"mappings":"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"}